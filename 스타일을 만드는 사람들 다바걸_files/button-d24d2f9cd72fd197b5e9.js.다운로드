_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{"4Ptm":function(t,e,a){"use strict";a.r(e),a.d(e,"__N_SSP",(function(){return I}));var n=a("o0o1"),o=a.n(n),i=a("HaE+"),c=a("q1tI"),r=a.n(c),d=a("ULN6"),u=a("DTFv"),p=a("M6fp"),s=a("6N+z"),_=a("jcLD"),f=a("er4e"),O=a("aC+I"),l=a("nvGk"),w=r.a.createElement,I=!0;function b(t){var e=t.siteId,a=t.siteName,n=t.categoryId,l=t.divisionId,I=t.partnerId,b=t.shopId,E=t.params,v=t.kakaoId,y=t.naverId,j=t.options,m=t.loadFromHeythere,N=Object(d.e)();Object(s.a)({siteId:e,siteName:a,categoryId:n,divisionId:l,partnerId:I,shopId:b,params:E,kakaoId:v,naverId:y,loadFromHeythere:m});var h=Object(_.a)().happytalkAuth;Object(u.a)(j),Object(p.a)();var k=Object(c.useCallback)(Object(i.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=f.a.getItem("".concat(O.a,"_").concat(e)),n=f.a.getItem("".concat(O.b,"_").concat(e)),!a&&!n){t.next=6;break}return t.next=5,h();case 5:N({type:"SET_SOCKET_CONNECT_READY",payload:!0});case 6:case"end":return t.stop()}}),t)}))),[N,h,e]);return Object(c.useEffect)((function(){k()}),[k]),w(r.a.Fragment,null)}b.getLayout=function(t){return w(l.a,null,t)},e.default=b},M6fp:function(t,e,a){"use strict";var n=a("yLiY"),o=a.n(n),i=a("q1tI"),c=a("Z8B4"),r=a("3fiu"),d=a("Em9b"),u=a("c+TM"),p=a("nvOH"),s=a("ULN6"),_=a("nOHt"),f=o()().publicRuntimeConfig.KAKAO_API_URL;e.a=function(){var t=Object(_.useRouter)(),e=Object(p.f)(),a=e.kakaotalkId,n=e.navertalkId,o=Object(u.f)(),O=o.siteId,l=o.categoryId,w=o.divisionId,I=o.params,b=o.kakaoId,E=o.naverId,v=Object(s.e)(),y=Object(u.e)(),j=Object(p.e)(),m=Object(r.a)(),N=m.onClickSend,h=m.onDrop,k=Object(d.a)().onCloseWindow,C=Object(i.useCallback)((function(e){if("OPEN_CHAT_WINDOW"!==e.data.type)if("CLOSE_CHAT_WINDOW"!==e.data.type){if("LINK_TO_KAKAO"===e.data.type){var o="".concat(f,"/api/kakao/chat_open?yid=").concat(b||a,"&site_id=").concat(O,"&category_id=").concat(l,"&division_id=").concat(w).concat(Object(c.g)(I));return window.open(o,"_blank"),void Object(c.b)(o)}if("LINK_TO_NAVER"===e.data.type){var i="https://talk.naver.com/ct/".concat(E||n,"?from=site_id%7C").concat(O,"%7Ccategory_id%7C").concat(l,"%7Cdivision_id%7C").concat(w).concat(Object(c.i)(I));return window.open(i,"_blank"),void Object(c.b)(i)}"SET_PARAMS"===e.data.type&&y({type:"SET_PARAMS",payload:e.data.value}),"READY_CHAT_ROOM"===e.data.type&&v({type:"OPEN_CHAT_ROOM",payload:!0}),"SEND_TEXT_MESSAGE"===e.data.type&&N(e.data.value),"SEND_IMAGE_MESSAGE"===e.data.type&&h(e.data.value),"END_CHAT"===e.data.type&&k(),"UPDATE_CONFIG"===e.data.type&&j({type:"UPDATE_EDITOR_CONFIG",payload:e.data.value})}else v({type:"OPEN_CHAT_WINDOW",payload:!1});else{if("/button"===t.pathname){var r=t.asPath.split("?"),d="/chatting?".concat(r[1]||"");t.replace(d)}v({type:"OPEN_CHAT_WINDOW",payload:!0})}}),[v,t,b,a,O,l,w,I,E,n,y,N,h,k,j]);Object(i.useEffect)((function(){if(window.self!==window.top)return window.addEventListener("message",C),function(){window.removeEventListener("message",C)}}),[v,C])}},QoM1:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/button",function(){return a("4Ptm")}])},"aC+I":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return o})),a.d(e,"d",(function(){return i})),a.d(e,"e",(function(){return c})),a.d(e,"f",(function(){return r})),a.d(e,"c",(function(){return d}));var n="happytalkio_ingRoomId",o="happytalkio_lastChatListId",i="priorityRoomId",c="priorityUserId",r="priorityUuid",d="priorityCustomerId"},nvGk:function(t,e,a){"use strict";var n=a("q1tI"),o=a.n(n),i=a("Ckzw"),c=a("nKX1"),r=a("4mV0"),d=a("Z8B4"),u=o.a.createElement;e.a=function(t){var e=t.children,a=Object(i.e)(),o=Object(n.useState)(!0),p=o[0],s=o[1],_=Object(n.useState)(""),f=_[0],O=_[1];Object(n.useEffect)((function(){Object(d.n)()||Object(d.p)()?O("mobile"):O("pc")}),[]),Object(n.useEffect)((function(){var t=window.location.pathname;s(window.self===window.top&&"/chatting"===t)}),[]);var l=Object(n.useCallback)((function(t){if("WINDOW_SIZE"===t.data.type){var e=t.data.value,n=e.windowWidth,o=e.windowHeight;a({type:"SET_WINODW_SIZE",payload:{width:n,height:o}})}}),[a]);return Object(n.useEffect)((function(){return window.self===window.top&&a({type:"SET_WINODW_SIZE",payload:{width:window.parent.innerWidth,height:window.parent.innerHeight}}),window.addEventListener("message",l),function(){window.removeEventListener("message",l)}}),[a,l]),u(c.a,null,e,!p&&u(r.a,{device:f,isLive:!0}))}}},[["QoM1",0,2,5,1,3,6,4,11,15,13]]]);